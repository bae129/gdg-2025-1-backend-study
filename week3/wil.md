## <백엔드 스터디 3주차 WIL>

### 지난주 요약
* 빈 = 공동으로 사용할 하나의 객체
* 스프링 컨테이너 = 빈을 저장하는 공용 공간
* 의존성 주입 = 필요한 객체를 전달 받아서 사용하는 것

* 컨테이너에 빈을 저장하는 방법: 설정 파일 / 컴포넌트 스캔
* 컨테이너에서 빈을 주입받는 방법: 생성자 주입/ 필드 주입


### 이번주 키워드
* 어플리케이션이 사용할 DB 설계
* JPA를 이용한 DB 구현

**DB 설계**
- 문제 상황은 크게 개체(엔티티)와 그 사이의 관계로 나타낼 수 있다.
- **개체** : 문제 상황을 구성하는 요소
- **관계** : 개체와 개체 사이의 관계
- 문제 상황을 **개체**와 **관계**로 표현하는 방법을 ER Model 이라고 한다. 
- 개체와 관계는 세부적인 특징인 속성을 가질 수 있다.
- ex > '사람' 개체는 '이름', '나이' 속성을 가질 수 있음.
- 이때 하나의 개체를 식별할 수 있는 속성을 PK(Primary Key) 라고 한다.

**JPA**
- Java Persistence API
- 데이터베이스에서 읽어온 데이터를 자바 객체로 매핑하는 자바의 표준 기술(ORM)
- **엔티티**는 자바와 데이터베이스가 소통하는 단위
- 테이블의 데이터 하나(레코드)는 엔티티 객체 하나로 매핑된다.
- 엔티티 클래스를 정의하면, JPA가 엔티티 클래스 정의를 보고 테이블을 생성하는  SQL을 알아서 작성하고 실행한다.

**정리**
- JPA는 DB와 자바 객체를 매핑하는 도구이다.
이때 DB와 매핑되는 자바 객체를 **엔티티**라고 한다.
- JPA를 사용해서 엔티티 클래스로 테이블을 정의할 수 있다.
- 엔티티 클래스에는 @Entity, @Id 어노테이션이 필요하다.
- Id값이 자동 생성될 땐 @GeneratedValue 를 사용한다.
- 일반 컬럼에는 @Column 으로 컬럼 명, 컬럼 타입 등을 지정한다.
- 외래키를 나타낼 땐 엔티티 객체를 필드로 넣고 @JoinColumn, @ManyToOne 을 사용한다.
- @ManyToOne 에서 fetch 속성은 LAZY로 지정한다.
- 엔티티 생성자는 보통 id 필드를 제외하고 만든다.
- JPA가 엔티티를 사용하려면 인자 없는 생성자가 필요하며, @NoArgsConstructor 어노테이션으로 간편하게 만들 수 있다.